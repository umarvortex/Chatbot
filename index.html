<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chatbot</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css" rel="stylesheet">
    <style>
        * {
            font-family: 'Arial', sans-serif;
            font-style: normal;
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background-color: #f0f0f0;
        }

        /* Chatbot Icon */
        .chatbot-icon {
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background-color: #d200ff;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 6px 8px rgba(0, 0, 0, 0.1);
            z-index: 9999;
        }

        .chatbot-icon img {
            width: 50px;
            height: 50px;
            border-radius: 50%;
        }

        /* Chatbot Container */
        .chatbot-container {
            position: fixed;
            bottom: 84px;
            right: 13px;
            width: 295px;
            height: 425px;
            background-color: #000000;
            border-radius: 0px;
            box-shadow: 0 6px 8px rgba(0, 0, 0, 0.6);
            display: none;
            flex-direction: column;
            z-index: 9999;
            transition: all 0.2s ease;
        }

        .chatbot-container.full-screen {
            width: 100%;
            height: 100%;
            bottom: 0;
            right: 0;
            border-radius: 0;
        }

        .chatbot-header {
            background-color: #d200ff;
            color: #fff;
            padding: 12px;
            border-top-left-radius: 0px;
            border-top-right-radius: 0px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .chatbot-header h3 {
            margin: 0;
            font-size: 17px;
        }

        .chatbot-header button {
            background: none;
            border: none;
            color: #fff;
            font-size: 14px;
            cursor: pointer;
            margin-right: 9px;     
        }

        .chatbot-header button:last-child {
             margin-right: 0;  
             font-size: 20px;
        }

        /* Chatbot Body */
        .chatbot-body {
            flex: 1;
            padding: 10px;
            overflow-y: auto;
            background-color: #000000;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        /* Welcome Message */
        .welcome-message {
            text-align: center;
            margin-top: 60px;
            color: white;
        }

        .welcome-logo {
    width: 95px;
    height: 95px;
    margin-bottom: -13px;
    position: relative;
}



        .welcome-message strong {
            font-size: 18px;
            font-weight: 600;
            color: white;
            line-height: 2;
        }

        .welcome-message p {
            font-size: 14px;
            color: #c4c8cb; 
            line-height: 2;
        }

        /* Messages */
        .message {
            max-width: 80%;
            padding: 8px 12px;
            border-radius: 20px;
            margin: 5px 0;
            font-size: 15px;
            word-wrap: break-word;
        }

        .user-message {
            background-color: #d200ff;
            color: #fff;
            align-self: flex-end;     
        }

        .bot-message {
            background-color: transparent;
            color: white;
            align-self: flex-start; 
        }

        /* Input Section */
        .chatbot-input {
            padding: 10px;
            background-color: black;
            border-top: none;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .input-wrapper {
            position: relative;
            display: flex;
            align-items: center;
            flex: 1;
        }

        .chatbot-input input {
            flex: 1;
            padding: 12px 40px 12px 16px;
            border: 2px solid #d200ff;
            border-radius: 25px;
            font-size: 14px;
            background-color: #1a1a1a;
            color: #ffffff;
            outline: none;
            transition: border-color 0.3s ease, box-shadow 0.3s ease;
            width: 100%;
        }

        .chatbot-input input:focus {
            border-color: #ff00ff;
            box-shadow: 0 0 8px rgba(210, 0, 255, 0.6);
        }

        .chatbot-input input::placeholder {
            color: #c4c8cb;
            opacity: 0.5;
        } 

   

   
    
    

   
        
    

    /* Updated Send Button CSS */
    #sendButton {
        position: absolute;
        right: 14px;
        top: 50%;
        transform: translateY(-50%);
        background: transparent;
        border: none;
        color: #d200ff;
        font-size: 17px;
        cursor: pointer;
        padding: 10px;
        display: flex;
        align-items: center;
        justify-content: center;
        border-radius: 50%;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        transition: transform 0.2s ease;
    }

   
    

    #sendButton:hover {
        color: #d200ff;
        
    }


 
    

    
  

        /* Quick Replies */
        .quick-replies {
            display: flex;
            gap: 10px;
            margin-top: 10px;
            padding: 10px;
            justify-content: center;
        }

        .quick-replies button {
            padding: 8px 12px;
            background-color: rgba(210, 0, 255, 0.6); /* Light Transparent Purple */
            color: rgba(255, 255, 255, 0.8); /* Light White Text */
            border: 1px solid rgba(255, 255, 255, 0.3); /* Light Border */
            border-radius: 17px;
            cursor: pointer;
            font-size: 12px;
            transition: all 0.3s ease-in-out;
            backdrop-filter: blur(5px); /* Blur Effect */
        }

        .quick-replies button:hover {
            background-color: rgba(210, 0, 255, 0.4); /* Full Color on Hover */
            color: #ffffff;
        } 

        /* Typing Indicator */
        .typing-indicator {
            display: none;
            background-color: #1a1a1a;
            padding: 10px;
            border-radius: 8px;
            margin: 10px 0;
            align-self: flex-start;
        }

        .typing-indicator span {
            display: inline-block;
            width: 8px;
            height: 8px;
            background-color: #d200ff;
            border-radius: 50%;
            margin: 0 2px;
            animation: typing 1s infinite;
        }

        .typing-indicator span:nth-child(2) {
            animation-delay: 0.2s;
        }

        .typing-indicator span:nth-child(3) {
            animation-delay: 0.4s;
        }

        @keyframes typing {
            0%, 100% { opacity: 0.3; }
            50% { opacity: 1; }
        }
    </style>
</head>
<body>
    <!-- Chatbot Icon -->
    <div class="chatbot-icon" id="chatbotIcon">
        <img src="https://i.postimg.cc/c4MdHSpM/IMG-20250312-153058.jpg" alt="Chatbot Icon">
    </div>

    <!-- Chatbot Container -->
    <div class="chatbot-container" id="chatbotContainer">
        <div class="chatbot-header">
            <h3>Assistant</h3>
            <div>
                <button id="refreshChatbot"> <i class="fa-sharp-duotone fa-solid fa-rotate"></i> </button>
               <button id="fullScreenButton"><i class="fa-solid fa-expand"></i></button>
                <button id="closeChatbot"><i class="fa-solid fa-xmark"></i></button>
            </div>
        </div>
        <div class="chatbot-body" id="chatbotBody">
            <!-- Welcome Message -->
            <div class="welcome-message" id="welcomeMessage">
                <img src="https://i.postimg.cc/gcN2brzt/file-3JcXkkveFfbKbu22pYjhJT-removebg-preview.png" alt="Logo" class="welcome-logo">
                <p><strong>Hi, I'm Vortex.</strong><br>How can I help you today?</p>
            </div>
        </div>
        <!-- Quick Replies -->
        <div class="quick-replies" id="quickReplies">
            <button onclick="sendQuickReply('What are your timings?')">Timings</button>
            <button onclick="sendQuickReply('How can I contact you?')">Contact</button>
            <button onclick="sendQuickReply('Hello')">Say Hi</button>
        </div>
        <!-- Typing Indicator -->
        <div class="typing-indicator" id="typingIndicator">
            <span></span>
            <span></span>
            <span></span>
        </div>
        <!-- Chatbot Input -->
        <div class="chatbot-input">
            <div class="input-wrapper">
                <input type="text" id="userInput" placeholder="Message Vortex...">
                <button id="sendButton"><i class="fas fa-paper-plane"></i></button>
            </div>
        </div>
    </div>

    <script>
        // Chatbot Functions
        const chatbotIcon = document.getElementById("chatbotIcon");
        const chatbotContainer = document.getElementById("chatbotContainer");
        const chatbotBody = document.getElementById("chatbotBody");
        const userInput = document.getElementById("userInput");
        const sendButton = document.getElementById("sendButton");
        const refreshChatbot = document.getElementById("refreshChatbot");
        const welcomeMessage = document.getElementById("welcomeMessage");
        const typingIndicator = document.getElementById("typingIndicator");
        const quickReplies = document.getElementById("quickReplies");

        let messageQueue = [];
        let isProcessingMessage = false;

        // Show/Hide Chatbot
        chatbotIcon.addEventListener("click", () => {
            if (chatbotContainer.style.display === "none" || chatbotContainer.style.display === "") {
                chatbotContainer.style.display = "flex";
                chatbotContainer.classList.add("full-screen");
            } else {
                chatbotContainer.style.display = "none";
                chatbotContainer.classList.remove("full-screen");
            }
        });

        // Full Screen Toggle
        document.getElementById("fullScreenButton").addEventListener("click", () => {
            chatbotContainer.classList.toggle("full-screen");
        });

        // Send message function
        function sendMessage() {
            const userText = userInput.value.trim();
            if (userText === "") return;

            // Add message to the queue
            messageQueue.push(userText);

            // Process the message queue if not already processing
            if (!isProcessingMessage) {
                processMessageQueue();
            }

            // Clear Input
            userInput.value = "";
            chatbotBody.scrollTop = chatbotBody.scrollHeight;
        }

        // Process Message Queue
        function processMessageQueue() {
            if (messageQueue.length === 0) {
                isProcessingMessage = false;
                return;
            }

            isProcessingMessage = true;

            // Get the next message from the queue
            const userText = messageQueue.shift();

            // Hide Welcome Message on first message
            if (welcomeMessage.style.display !== "none") {
                welcomeMessage.style.display = "none";
            }

            // User Message
            const userMessage = document.createElement("div");
            userMessage.classList.add("message", "user-message");
            userMessage.textContent = userText;
            chatbotBody.appendChild(userMessage);

            // Show Typing Indicator
            typingIndicator.style.display = "flex";

            // Bot Response
            setTimeout(() => {
                typingIndicator.style.display = "none"; // Hide typing indicator

                const botMessage = document.createElement("div");
                botMessage.classList.add("message", "bot-message");
                botMessage.textContent = getBotResponse(userText);
                chatbotBody.appendChild(botMessage);

                chatbotBody.scrollTop = chatbotBody.scrollHeight;
                saveChat(); // Save chat history

                // Process the next message in the queue
                isProcessingMessage = false;
                processMessageQueue(); // Recursively process next message
            }, 1500); // Simulate typing delay
        }

        // Get bot response
        function getBotResponse(userText) {
            userText = userText.toLowerCase();

               if (userText.includes("hi") || userText.includes("hello") || userText.includes("salam")) {
    return "Hey there How can I assist you today with our pipe solutions?";
}

if (userText.includes("your company name") || userText.includes("who are you")) {
    return "We are Pak Pipes International Karachi, trusted pipe suppliers.";
}

if (userText.includes("location") || userText.includes("where are you located")) {
    return "We are based in KDA scheme 33 Grey Noor tower Karachi, Pakistan. Visit us anytime!";
}

if (userText.includes("pipes") || userText.includes("what pipes you sell")) {
    return "We provide a variety of pipes including PVC, UPVC, HDPE, and PPRC pipes.";
}

if (userText.includes("contact number") || userText.includes("phone number")) {
    return "You can contact us at +92-3192017909.";
}

if (userText.includes("email") || userText.includes("email address")) {
    return "Our email is umarvortex@gmail.com, NOTE: This is not a official bussines email address of Pak Pipes International Karachi. ";
}

if (userText.includes("business hours") || userText.includes("timings")) {
    return "Our business hours are  Saturday to Thursday , 11 AM to 6 PM and Friday 3 PM to 6PM.";
}

if (userText.includes("price ") || userText.includes("pricing")) {
    return "Please contact us directly for the latest price list and special offers.";
}

if (userText.includes("delivery") || userText.includes("do you deliver")) {
    return "Yes, we offer delivery services within Karachi.";
}

if (userText.includes("minimum order") || userText.includes("MOQ")) {
    return "Our minimum order quantity depends on the type of pipe. Contact us for details.";

}

if (userText.includes("payment") || userText.includes("how to pay")) {
    return "We accept payments via cash and bank transfer only.";
}

if (userText.includes("custom orders") || userText.includes("special sizes")) {
    return "Yes, we can arrange custom pipe sizes on request.";
}

if (userText.includes("warranty") || userText.includes("guarantee")) {
    return "All our pipes come with a standard manufacturer's warranty.";
}

if (userText.includes("PVC vs UPVC") || userText.includes("difference between PVC and UPVC")) {
    return "PVC is flexible and used for drainage, UPVC is rigid and used for water supply.";
}

if (userText.includes("best pipe for water") || userText.includes("recommend pipe")) {
    return "For water supply, UPVC or PPRC pipes are highly recommended.";
}

if (userText.includes("discount") || userText.includes("any offer")) {
    return "Yes, we offer discounts on bulk orders. Contact us for current promotions.";
}

if (userText.includes("how to order") || userText.includes("order")) {
    return "You can place an order via WhatsApp, call, email, or visiting our office if you want to order via WhatsApp or call you will find both options in our website home section.";
}

if (userText.includes("about company") || userText.includes("company info")) {
    return "Pak Pipes International Karachi powered by MEMON ONE TRADERS is serving the Karachi for over 2 years trusted by thousands costomers All over in Karachi visit us anytime at Grey Noor Tower!";
}

if (userText.includes("pipe fitting") || userText.includes("accessories")) {
    return "Yes, we provide pipe fittings and accessories along with pipes.";
}

if (userText.includes("export") || userText.includes("outside Pakistan")) {
    return "Currently, we primarily serve within Karachi Pakistan. Contact us for export inquiries.";
}

if (userText.includes("feedback") || userText.includes("complaint")) {
    return "We value your feedback! Please share your experience or any complaints with us via website contact form.";
}

if (userText.includes("return policy") || userText.includes("can I return")) {
    return "Returns are accepted within 7 days for unopened, undamaged products.";
}

if (userText.includes("installation service") || userText.includes("do you install")) {
    return "We can connect you with trusted installation partners.";
}

if (userText.includes("why choose you") || userText.includes("benefits")) {
    return "We offer high-quality products, competitive pricing, and excellent customer service.";

}

if (userText.includes("website") || userText.includes("official site")) {
    return "Our website is www.pakpipesinternational.com.";
}

if (userText.includes("ISO certified") || userText.includes("certification")) {
    return "Yes, we deal in ISO certified products only.";

}

if (userText.includes("how long delivery takes") || userText.includes("delivery time")) {
    return "Delivery usually takes 3 to 9 hour or less within Karachi, depends on the location and situation. ";

}

if (userText.includes("bulk order") || userText.includes("large quantity")) {
    return "Yes, we handle bulk orders efficiently. Contact us for special pricing.";

}

if (userText.includes("pipe sizes available") || userText.includes("what sizes")) {
    return "We have a variety of sizes, from ½ inch to 12 inches.";

}

if (userText.includes("pipe material quality") || userText.includes("are your pipes durable")) {
    return "We provide premium quality pipes made from top-grade raw materials.";

}

if (userText.includes("social media") || userText.includes("Facebook page")) {
    return "Follow us on Facebook and Instagram @PakPipesInternational.";

}

if (userText.includes("bussines start") || userText.includes("since when")) {
    return "Our bussines started in 2022 and has been growing ever since.";

}

if (userText.includes("stock") || userText.includes("availability")) {
    return "Yes, we maintain large inventories to ensure product availability.";

}

if (userText.includes("trusted by") || userText.includes("clients")) {
    return "We are trusted by numerous construction companies and contractors.";

}

if (userText.includes("pipe thickness") || userText.includes("pipe grade")) {
    return "We offer multiple grades and thicknesses as per customer requirements.";

}

if (userText.includes("technical support") || userText.includes("help with specs")) {
    return "Our team is always ready to provide technical guidance and specifications email us at umarvortex@gmail.com.";

}

if (userText.includes("partnership") || userText.includes("become distributor")) {
    return "Contact us for dealership and partnership opportunities.";

}

if (userText.includes("track") || userText.includes("order status")) {
    return "Please call or WhatsApp us to check your order status our web team is working on a order tracking feuture soon you'll find a OTF in our website ";

}

if (userText.includes("pipe usage") || userText.includes("where to use")) {
    return "Our pipes are ideal for plumbing, drainage, industrial, and agricultural uses.";

}

if (userText.includes("sustainability") || userText.includes("eco-friendly")) {
    return "Our pipes are manufactured keeping eco-friendliness and safety in mind.";

}

if (userText.includes("largest project") || userText.includes("biggest client")) {
    return "We’ve supplied pipes to several large-scale government and private projects.";

}

if (userText.includes("replacement policy") || userText.includes("exchange product")) {
    return "Faulty products are replaced free of charge under warranty.";

}

if (userText.includes("pipe color") || userText.includes("do you have color pipes")) {
    return "We provide standard orange, yellow, black,  and green colored pipes.";

}

if (userText.includes("delivery charges") || userText.includes("is delivery free")) {
    return "Delivery charges depend on location and order size.";

}

if (userText.includes("pipe testing") || userText.includes("quality check")) {
    return "All our products undergo strict quality testing before delivery.";

}

if (userText.includes("how long pipes last") || userText.includes("pipe lifespan")) {
    return "Our pipes are designed to last over 20+ years under standard conditions.";

}

if (userText.includes("trusted supplier") || userText.includes("why trust you")) {
    return "Our commitment to quality and customer satisfaction makes us a trusted supplier.";

}

if (userText.includes("showroom") || userText.includes("can I visit")) {
    return "Yes, you are welcome to visit our showroom anytime during business hours.";

}

if (userText.includes("any job opening") || userText.includes("career")) {
    return "You can email us your CV at umarvortex@gmail.com for any job openings.";

}

if (userText.includes("CSR activities") || userText.includes("social responsibility")) {
    return "We regularly contribute to community development and CSR initiatives.";

}
            return "Sorry, I couldn't process that request would you like to know about our bussines?";
        }









        // Quick Replies
        function sendQuickReply(text) {
            userInput.value = text;
            sendMessage();
        }

        // Close Chatbot
        document.getElementById("closeChatbot").addEventListener("click", () => {
            chatbotContainer.classList.remove("full-screen");
            chatbotContainer.style.display = "none";
        });

        // Refresh Chatbot
        document.getElementById("refreshChatbot").addEventListener("click", function() {
            console.log("Refresh button clicked");
            chatbotBody.innerHTML = '';
            welcomeMessage.style.display = "block";
            console.log("Welcome message should be visible");
        });

        // Send Message on Enter
        userInput.addEventListener("keypress", (event) => {
            if (event.key === "Enter") sendMessage();
        });

        // Send Message on Button Click
        sendButton.addEventListener("click", function (event) {
            event.preventDefault(); // Prevent unexpected behaviors
            sendMessage();
        });

        // Save Chat History (Optional)
        function saveChat() {
            // Implement chat saving logic here
            console.log("Chat saved!");
        }  

    </script>
</body>
</html>